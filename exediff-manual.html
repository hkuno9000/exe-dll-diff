<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
<title>exediff: exediff - find differences between two exe/dll files</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<h1>exediff - find differences between two exe/dll files </h1>
<p>
<h3 align="center">Release 1.x </h3><dl compact><dt><b>Version:</b></dt><dd><dl compact><dt><b>Revision</b></dt><dd>1.11 </dd></dl>
</dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Hiroshi Kuno &lt;<a href="mailto:hkuno-exediff-tool@micorhouse.co.jp">hkuno-exediff-tool@micorhouse.co.jp</a>&gt;</dd></dl>
<dl compact><dt><b>License:</b></dt><dd>Copyright &copy; 2004 by Hiroshi Kuno <br>
本ソフトウェアは無保証かつ無償で提供します。利用、再配布、改変は自由です。</dd></dl>
<hr>
 <h2><a class="anchor" name="intro">
はじめに</a></h2>
exediffは、Win32実行ファイル(exe/dll)のロードイメージを比較し、差異を表示するコンソールアプリケーションです。 二つのプログラムファイルの、同一性や違いを確認するのに便利です。<h2><a class="anchor" name="func">
特徴</a></h2>
<ul>
<li>ロードイメージのヘッダ構造を認識し、構造単位での比較を行います。</li><li>ロードイメージのセクションデータ(RAWDATA)の比較では、差異が一定量に達したら比較を打ち切ります。</li><li>ディレクトリ間で複数ファイルの比較ができます。</li><li>ロードイメージに埋め込まれたタイムスタンプ部分を除外して比較できます。</li><li>比較ファイルのテキスト形式ダンプ(dumpbin /all 相当)を出力できます。</li></ul>
<h2><a class="anchor" name="env">
動作環境</a></h2>
WindowsNT3.1/Windows95以降。 Windows98SE/Windows2000/WindowsXP にて動作確認済み。<h2><a class="anchor" name="install">
インストール方法</a></h2>
配布ファイル windiff.exe を、PATHが通ったフォルダにコピーしてください。 アインインストールするには、そのコピーしたファイルを削除してください。<h2><a class="anchor" name="usage">
使い方</a></h2>
<pre><div class="fragment">usage :exediff [-h?tdq][-n#] (FILE1 FILE2 | DIR1 DIR2 [WILD] | DIR1 DIR2\WILD)
  $Revision: 1.11 $
  -h -?   this help
  -t      ignore time stamp
  -d      dump file image
  -q      quiet mode
  -n#     max length of differ rawdatas. default is 4
  FILE1/2 compare exe/dll file
  DIR1/2  compare folder
  WILD    compare files pattern in DIR2. default is *
</div></pre><h2><a class="anchor" name="example">
出力例</a></h2>
<pre><div class="fragment">exediff C:\WINDOWS\system32\msvcp50.dll C:\WINDOWS\system32\msvcp60.dll 

FileHeader.NumberOfSections:
&lt;0006
&gt;0005

FileHeader.TimeDateStamp:
&lt;33FA7CF2(Wed Aug 20 14:13:22 1997)
&gt;3D74F0CE(Wed Sep 04 02:26:38 2002)

OptionalHeader.LinkerVersion:
&lt;5.0
&gt;6.0

OptionalHeader.SizeOfCode:
&lt;00053C00
&gt;0002A000

OptionalHeader.SizeOfInitializedData:
&lt;00035C00
&gt;00036000

OptionalHeader.AddressOfEntryPoint:
&lt;00050410
&gt;00001000

OptionalHeader.BaseOfData:
&lt;00055000
&gt;0002C000

OptionalHeader.ImageBase:
&lt;780C0000
&gt;75FD0000

OptionalHeader.FileAlignment:
&lt;00000200
&gt;00001000

OptionalHeader.SizeOfImage:
&lt;0008D000
&gt;00061000

OptionalHeader.SizeOfHeaders:
&lt;00000400
&gt;00001000

OptionalHeader.CheckSum:
&lt;00098B09
&gt;0006225D

Section Header[1].VirtualSize:
&lt;00053B32
&gt;00029BBC

Section Header[1].SizeOfRawData:
&lt;00053C00
&gt;0002A000

Section Header[1].PointerToRawData:
&lt;00001000
&gt;00002000

Section RawData[1] .text &lt;=&gt; .text:
+00000000: B0(.) &lt;=&gt; 55(U)
+00000001: 01(.) &lt;=&gt; 8B(.)
+00000002: C3(ﾃ) &lt;=&gt; EC(.)
+00000003: 90(.) &lt;=&gt; 53(S)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[2].VirtualSize:
&lt;0002E6BF
&gt;0002F030

Section Header[2].VirtualAddress:
&lt;00055000
&gt;0002B000

Section Header[2].SizeOfRawData:
&lt;0002E800
&gt;00030000

Section Header[2].PointerToRawData:
&lt;00054C00
&gt;0002C000

Section RawData[2] .rdata &lt;=&gt; .rdata:
+00000000: 00(.) &lt;=&gt; 50(P)
+00000001: 00(.) &lt;=&gt; 32(2)
+00000002: 80(.) &lt;=&gt; 13(.)
+00000003: 00(.) &lt;=&gt; 10(.)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[3].VirtualSize:
&lt;00001784
&gt;00001788

Section Header[3].VirtualAddress:
&lt;00084000
&gt;0005B000

Section Header[3].SizeOfRawData:
&lt;00001200
&gt;00002000

Section Header[3].PointerToRawData:
&lt;00083400
&gt;0005C000

Section RawData[3] .data &lt;=&gt; .data:
+00000004: 60(`) &lt;=&gt; 00(.)
+00000005: 5F(_) &lt;=&gt; 00(.)
+00000006: 10(.) &lt;=&gt; 00(.)
+00000007: 78(x) &lt;=&gt; 00(.)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[4].Name:
&lt;.idata
&gt;.rsrc

Section Header[4].VirtualSize:
&lt;00000770
&gt;000003A8

Section Header[4].VirtualAddress:
&lt;00086000
&gt;0005D000

Section Header[4].SizeOfRawData:
&lt;00000800
&gt;00001000

Section Header[4].PointerToRawData:
&lt;00084600
&gt;0005E000

Section RawData[4] .idata &lt;=&gt; .rsrc:
+00000000: 6C(l) &lt;=&gt; 00(.)
+00000001: 60(`) &lt;=&gt; 00(.)
+00000002: 08(.) &lt;=&gt; 00(.)
+00000004: FF(.) &lt;=&gt; 00(.)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[5].Name:
&lt;.rsrc
&gt;.reloc

Section Header[5].VirtualSize:
&lt;000003A0
&gt;00002CF0

Section Header[5].VirtualAddress:
&lt;00087000
&gt;0005E000

Section Header[5].SizeOfRawData:
&lt;00000400
&gt;00003000

Section Header[5].PointerToRawData:
&lt;00084E00
&gt;0005F000

Section Header[5].Characteristics:
&lt;40000040(data, read)
&gt;42000040(data, discardable, read)

Section RawData[5] .rsrc &lt;=&gt; .reloc:
+00000001: 00(.) &lt;=&gt; 10(.)
+00000004: 7C(|) &lt;=&gt; B8(ｸ)
+00000005: 8E(.) &lt;=&gt; 01(.)
+00000006: 0B(.) &lt;=&gt; 00(.)
	&lt;snip&gt; differ more than 4 bytes.
.reloc section is only in "C:\WINDOWS\system32\msvcp50.dll"
"C:\WINDOWS\system32\msvcp50.dll" and "C:\WINDOWS\system32\msvcp60.dll" differ
</div></pre><h2><a class="anchor" name="pending">
欠けている機能</a></h2>
<ul>
<li>RVAテーブルの比較を行っていません。<ul>
<li>このテーブルの中身は補助構造へのオフセットとサイズなので、それらの値を比較しても意味がありません。 比較すべきはオフセット先の補助構造ですが、その構造の形式が不明なため実現できていません。</li><li>補助構造は .rdata セクションのRAWDATA中に埋め込まれており、バイト列としての比較は出来ています。</li></ul>
</li></ul>
<h2><a class="anchor" name="links">
リンク</a></h2>
<ul>
<li><a href="http://hp.vector.co.jp/authors/VA002803/exediff.html">http://hp.vector.co.jp/authors/VA002803/exediff.html</a> - exediff公開サイト</li></ul>
<h2><a class="anchor" name="download">
ダウンロード</a></h2>
<ul>
<li><a href="http://hp.vector.co.jp/authors/VA002803/arc/exediff111.zip">http://hp.vector.co.jp/authors/VA002803/arc/exediff111.zip</a> - 最新版 [June 30, 2004]</li></ul>
<h2><a class="anchor" name="changelog">
改訂履歴</a></h2>
<h3><a class="anchor" name="Rel111">
Release 1.11 [June 30, 2004] 公開初版</a></h3>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 30 16:02:21 2004 for exediff by
<a href="http://www.doxygen.org/index.html">
doxygen</a> 1.3.7 </small></address>
</body>
</html>

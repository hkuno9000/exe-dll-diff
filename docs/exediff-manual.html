<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>exediff: find differences between two windows binary files(exe/dll)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="contents">
<h1>find differences between two windows binary files(exe/dll)</h1><h3>Release 1.x </h3><dl class="version"><dt><b>Version:</b></dt><dd>1.12</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Hiroshi Kuno &lt;<a href="mailto:hkuno-exediff-tool@microhouse.co.jp">hkuno-exediff-tool@microhouse.co.jp</a>&gt;</dd></dl>
<dl class="user"><dt><b>License:</b></dt><dd>New BSD License Copyright &copy; 2004,2009 by Hiroshi Kuno <br/>
本ソフトウェアは無保証かつ無償で提供します。利用、再配布、改変は自由です。</dd></dl>
<hr/>
 <h2><a class="anchor" id="intro">
はじめに</a></h2>
<p>exediffは、Win32実行ファイル(exe/dll)のロードイメージを比較し、差異を表示するコンソールアプリケーションです。 二つのプログラムファイルの、同一性や違いを確認するのに便利です。</p>
<h2><a class="anchor" id="func">
特徴</a></h2>
<ul>
<li>ロードイメージのヘッダ構造を認識し、構造単位での比較を行います。</li>
<li>ロードイメージのセクションデータ(RAWDATA)の比較では、差異が一定量に達したら比較を打ち切ります。</li>
<li>ディレクトリ間で複数ファイルの比較ができます。</li>
<li>オプション指定により、ロードイメージに埋め込まれたタイムスタンプとチェックサムを除外して比較できます。</li>
<li>比較ファイルのテキスト形式ダンプ(dumpbin /all 相当)を出力できます。</li>
</ul>
<h2><a class="anchor" id="env">
動作環境</a></h2>
<p>WindowsNT3.1/Windows95以降。 Windows98SE/Windows2000/WindowsXP にて動作確認済み。</p>
<h2><a class="anchor" id="install">
インストール方法</a></h2>
<p>配布ファイル windiff.exe を、PATHが通ったフォルダにコピーしてください。 アインインストールするには、そのコピーしたファイルを削除してください。</p>
<h2><a class="anchor" id="usage">
使い方</a></h2>
<div class="fragment"><pre class="fragment">usage :exediff [-h?tcdq][-n#] (FILE1 FILE2 | DIR1 DIR2 [WILD] | DIR1 DIR2¥WILD)
  version 1.12
  -h -?   this help
  -t      ignore time stamp
  -c      ignore check sum
  -d      dump file image
  -q      quiet mode
  -n#     max length of differ rawdatas. default is 4
  FILE1/2 compare exe/dll file
  DIR1/2  compare folder
  WILD    compare files pattern in DIR2. default is *
</pre></div><h2><a class="anchor" id="example">
出力例</a></h2>
<div class="fragment"><pre class="fragment">exediff C:¥WINDOWS¥system32¥msvcp50.dll C:¥WINDOWS¥system32¥msvcp60.dll 

FileHeader.NumberOfSections:
&lt;0006
&gt;0005

FileHeader.TimeDateStamp:
&lt;33FA7CF2(Wed Aug 20 14:13:22 1997)
&gt;4802C105(Mon Apr 14 11:27:17 2008)

OptionalHeader.LinkerVersion:
&lt;5.0
&gt;7.10

OptionalHeader.SizeOfCode:
&lt;00053C00
&gt;0002B000

OptionalHeader.SizeOfInitializedData:
&lt;00035C00
&gt;00039000

OptionalHeader.AddressOfEntryPoint:
&lt;00050410
&gt;0000131E

OptionalHeader.BaseOfData:
&lt;00055000
&gt;0002C000

OptionalHeader.ImageBase:
&lt;780C0000
&gt;75FD0000

OptionalHeader.FileAlignment:
&lt;00000200
&gt;00001000

OptionalHeader.SizeOfImage:
&lt;0008D000
&gt;00065000

OptionalHeader.SizeOfHeaders:
&lt;00000400
&gt;00001000

OptionalHeader.CheckSum:
&lt;00098B09
&gt;0007475E

Section Header[1].VirtualSize:
&lt;00053B32
&gt;0002A250

Section Header[1].SizeOfRawData:
&lt;00053C00
&gt;0002B000

Section RawData[1] .text &lt;=&gt; .text:
+00000000: B0(.) &lt;=&gt; 90(.)
+00000001: 01(.) &lt;=&gt; 90(.)
+00000002: C3(ﾃ) &lt;=&gt; 90(.)
+00000005: 90(.) &lt;=&gt; 8B(.)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[2].VirtualSize:
&lt;0002E6BF
&gt;0003250A

Section Header[2].VirtualAddress:
&lt;00055000
&gt;0002C000

Section Header[2].SizeOfRawData:
&lt;0002E800
&gt;00033000

Section Header[2].PointerToRawData:
&lt;00054C00
&gt;0002C000

Section RawData[2] .rdata &lt;=&gt; .rdata:
+00000000: 00(.) &lt;=&gt; FD(.)
+00000001: 00(.) &lt;=&gt; 49(I)
+00000002: 80(.) &lt;=&gt; 84(.)
+00000003: 00(.) &lt;=&gt; 7C(|)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[3].VirtualSize:
&lt;00001784
&gt;000016AC

Section Header[3].VirtualAddress:
&lt;00084000
&gt;0005F000

Section Header[3].SizeOfRawData:
&lt;00001200
&gt;00002000

Section Header[3].PointerToRawData:
&lt;00083400
&gt;0005F000

Section RawData[3] .data &lt;=&gt; .data:
+00000000: 00(.) &lt;=&gt; C8(ﾈ)
+00000001: 00(.) &lt;=&gt; C3(ﾃ)
+00000002: 00(.) &lt;=&gt; FF(.)
+00000003: 00(.) &lt;=&gt; 75(u)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[4].Name:
&lt;.idata
&gt;.rsrc

Section Header[4].VirtualSize:
&lt;00000770
&gt;000003A8

Section Header[4].VirtualAddress:
&lt;00086000
&gt;00061000

Section Header[4].SizeOfRawData:
&lt;00000800
&gt;00001000

Section Header[4].PointerToRawData:
&lt;00084600
&gt;00061000

Section RawData[4] .idata &lt;=&gt; .rsrc:
+00000000: 6C(l) &lt;=&gt; 00(.)
+00000001: 60(`) &lt;=&gt; 00(.)
+00000002: 08(.) &lt;=&gt; 00(.)
+00000004: FF(.) &lt;=&gt; 00(.)
	&lt;snip&gt; differ more than 4 bytes.

Section Header[5].Name:
&lt;.rsrc
&gt;.reloc

Section Header[5].VirtualSize:
&lt;000003A0
&gt;000029E8

Section Header[5].VirtualAddress:
&lt;00087000
&gt;00062000

Section Header[5].SizeOfRawData:
&lt;00000400
&gt;00003000

Section Header[5].PointerToRawData:
&lt;00084E00
&gt;00062000

Section Header[5].Characteristics:
&lt;40000040(data, read)
&gt;42000040(data, discardable, read)

Section RawData[5] .rsrc &lt;=&gt; .reloc:
+00000001: 00(.) &lt;=&gt; 10(.)
+00000004: 7C(|) &lt;=&gt; 78(x)
+00000005: 8E(.) &lt;=&gt; 01(.)
+00000006: 0B(.) &lt;=&gt; 00(.)
	&lt;snip&gt; differ more than 4 bytes.
.reloc section is only in "C:¥WINDOWS¥system32¥msvcp50.dll"
"C:¥WINDOWS¥system32¥msvcp50.dll" and "C:¥WINDOWS¥system32¥msvcp60.dll" differ
</pre></div><h2><a class="anchor" id="pending">
欠けている機能</a></h2>
<ul>
<li>RVAテーブルの比較を行っていません。<ul>
<li>このテーブルの中身は補助構造へのオフセットとサイズなので、それらの値を比較しても意味がありません。 比較すべきはオフセット先の補助構造ですが、その構造の形式が不明なため実現できていません。</li>
<li>補助構造は .rdata セクションのRAWDATA中に埋め込まれており、バイト列としての比較は出来ています。</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="links">
リンク</a></h2>
<ul>
<li><a href="http://hp.vector.co.jp/authors/VA002803/exediff.html">http://hp.vector.co.jp/authors/VA002803/exediff.html</a> - exediff公開サイト</li>
<li><a href="http://code.google.com/p/exe-dll-diff/">http://code.google.com/p/exe-dll-diff/</a> - exediff開発サイト</li>
</ul>
<h2><a class="anchor" id="download">
ダウンロード</a></h2>
<ul>
<li><a href="http://code.google.com/p/exe-dll-diff/downloads/list">http://code.google.com/p/exe-dll-diff/downloads/list</a> - 最新版 v1.12[October 3, 2009]</li>
<li><a href="http://hp.vector.co.jp/authors/VA002803/arc/exediff111.zip">http://hp.vector.co.jp/authors/VA002803/arc/exediff111.zip</a> - 旧版 v1.11 [June 30, 2004]</li>
</ul>
<h2><a class="anchor" id="changelog">
改訂履歴</a></h2>
<h3><a class="anchor" id="Rel112">
version 1.12 [October 3, 2009] チェックサム無視対応版</a></h3>
<h3><a class="anchor" id="Rel111">
Release 1.11 [June 30, 2004] 公開初版</a></h3>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat Oct 3 17:40:45 2009 for exediff by&nbsp;
<a href="http://www.doxygen.org/index.html">
doxygen</a> 1.6.1 </small></address>
</body>
</html>
